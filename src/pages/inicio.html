<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="../css/inicio.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="../js/inicio.js" defer></script>
  <!-- Importa los módulos de componentes -->
  <script type="module" src="../components/showCircuitsComponent.js"></script>
  <script type="module" src="../components/userComponent.js"></script>
</head>
<body class="body bg-black">
  <div class="container text-center">
    <!-- Video de fondo -->
    <video id="background-video" autoplay muted loop class="video-background" style="max-width:100%;">
      <source src="../../media/20250204_2206_Dynamic F1 Logo Animation_simple_compose_01jka14ydce5n9b9e7x1bz0gpz.mp4" type="video/mp4" />
      Tu navegador no soporta el video.
    </video>

    <!-- Botón para iniciar el programa -->
    <div class="container my-3">
      <button class="futuristic-button " id="start-button">
        <span class="button-text">Iniciar Programa</span>
      </button>
    </div>

    <div class="container-fluid">
        <div class="row align-items-center mt-3">
          <!-- Columna para el botón "Volver" (alineado a la izquierda) -->
          <div class="col-6 d-flex justify-content-start">
            <button class="btn btn-4" id="back-button" style="display: none;">
              Volver
            </button>
          </div>
          
          <!-- Columna para el botón "Siguiente" (alineado a la derecha) -->
          <div class="col-6 d-flex justify-content-end">
            <button class="btn btn-4" id="next-button" style="display: none;">
              Siguiente
            </button>
          </div>
        </div>
      </div>
    <!-- Componente de Circuito Slider (inicialmente oculto) -->
    <circuit-slider id="circuit-slider" style="display: none;"></circuit-slider>


      


    <!-- Componente de Galería de Vehículos (inicialmente oculto) -->
    <vehicle-gallery-component id="vehicle-gallery-component" style="display: none;"></vehicle-gallery-component>
  </div>

  <script>
    // Espera a que se cargue el DOM
    document.addEventListener("DOMContentLoaded", () => {
      const startButton = document.getElementById('start-button');
      const circuitSlider = document.getElementById('circuit-slider');
      const nextButton = document.getElementById('next-button');
      const backButton = document.getElementById('back-button');
      const backgroundVideo = document.getElementById('background-video');
      const vehicleGallery = document.getElementById('vehicle-gallery-component');

      // Estado inicial: solo se muestran el video y el botón de inicio
      // Cuando se pulsa "Iniciar Programa", ocultamos el video y mostramos el slider junto con los botones "Siguiente" y "Volver"
      startButton.addEventListener('click', () => {
        backgroundVideo.style.display = 'none';
        startButton.style.display = 'none';

        circuitSlider.style.display = 'block';
        nextButton.style.display = 'block';
        backButton.style.display = 'block';
      });

      // Evento para el botón "Siguiente"
      nextButton.addEventListener('click', () => {
        // Si el slider está visible, pasamos a la galería
        if (circuitSlider.style.display === 'block') {
          circuitSlider.style.display = 'none';
          vehicleGallery.style.display = 'block';
          // El botón "Volver" sigue visible para permitir retroceder a la pantalla anterior
        } else if (vehicleGallery.style.display === 'block') {
          // Aquí podrías agregar la lógica para avanzar a otro componente
          alert('No hay más componentes.');
        }
      });

      // Evento para el botón "Volver"
      backButton.addEventListener('click', () => {
        // Si la galería está visible, volvemos al slider
        if (vehicleGallery.style.display === 'block') {
          vehicleGallery.style.display = 'none';
          circuitSlider.style.display = 'block';
        } else if (circuitSlider.style.display === 'block') {
          // Si ya estamos en el slider, volvemos a la pantalla inicial (video y botón de inicio)
          circuitSlider.style.display = 'none';
          backgroundVideo.style.display = 'block';
          startButton.style.display = 'block';
          // Ocultamos los botones de navegación, ya que volvemos al estado inicial
          nextButton.style.display = 'none';
          backButton.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>
